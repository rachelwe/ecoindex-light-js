function computeEcoIndex(e,t,n){return 100-5*(3*computeQuantile(quantiles_dom,e)+2*computeQuantile(quantiles_req,t)+computeQuantile(quantiles_size,n))/6}function computeQuantile(e,t){for(i=1;i<e.length;i++)if(t<e[i])return i+(t-e[i-1])/(e[i]-e[i-1]);return e.length}function getEcoIndexGrade(e){return e>80?"A":e>70?"B":e>55?"C":e>40?"D":e>25?"E":e>10?"F":"G"}function computeGreenhouseGasesEmissionfromEcoIndex(e){return(2+2*(50-e)/100).toFixed(2)}function computeWaterConsumptionfromEcoIndex(e){return(3+3*(50-e)/100).toFixed(2)}quantiles_dom=[0,47,75,159,233,298,358,417,476,537,603,674,753,843,949,1076,1237,1459,1801,2479,594601],quantiles_req=[0,2,15,25,34,42,49,56,63,70,78,86,95,105,117,130,147,170,205,281,3920],quantiles_size=[0,1.37,144.7,319.53,479.46,631.97,783.38,937.91,1098.62,1265.47,1448.32,1648.27,1876.08,2142.06,2465.37,2866.31,3401.59,4155.73,5400.08,8037.54,223212.26],ecoindex=function(e,t){var n=req=error=0;t.forEach(function(e){req++;var t=0;0==e.transferSize?error++:t=e.transferSize,t=Math.round(t/1e3),n+=t});var o=100*error/req,r=computeEcoIndex(e,req,n),i=getEcoIndexGrade(r),c=computeGreenhouseGasesEmissionfromEcoIndex(r),d=computeWaterConsumptionfromEcoIndex(r),a="ecoIndex: "+r.toFixed(2)+(o>0?" (*"+Math.round(o)+"% d'erreur)":"")+" | GES: "+c+" gCO2e | eau: "+d+" cl | Nombre de requÃªtes: "+req+" | Taille de la page: "+n+" Ko | Taille du DOM: "+e,u="#ED2124",s="#000";switch(i){case"A":u="#349A47",s="#fff";break;case"B":u="#51B84B";break;case"C":u="#CADB2A";break;case"D":u="#F6EB15";break;case"E":u="#FECD06";break;case"F":u="#F99839";break;default:u="#ED2124"}document.documentElement.style.setProperty("--ecoindex-color",u),document.documentElement.style.setProperty("--ecoindex-contrasted-neutral-color",s);const l=document.querySelector("[data-ecoindex]"),m='<a href="http://www.ecoindex.fr/quest-ce-que-ecoindex/" data-ecoindex-link target="_blank" rel="noreferrer"  aria-describedby="ecoindex-extended">'+r.toFixed(0)+"/"+i+(o>0?"*":"")+"</a>",f='<div role="tooltip" id="ecoindex-extended">'+a+"</div>";l.innerHTML=m+f;const x=document.querySelector("#ecoindex-extended");x.style.display="block";const p=window.innerWidth||document.documentElement.clientWidth;x.getBoundingClientRect().right>p&&(x.style.setProperty("--tooltip-offset",p-x.getBoundingClientRect().right+"px"),x.style.display="")},window.onload=function(e){setTimeout(function(){var e=document.getElementsByTagName("*").length,t=window.performance.getEntriesByType("resource");t.push({name:"Page HTML",transferSize:window.performance.getEntriesByType("navigation")[0].transferSize}),ecoindex(e,t)},1e3)};