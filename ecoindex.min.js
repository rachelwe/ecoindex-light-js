quantiles_dom=[0,47,75,159,233,298,358,417,476,537,603,674,753,843,949,1076,1237,1459,1801,2479,594601];quantiles_req=[0,2,15,25,34,42,49,56,63,70,78,86,95,105,117,130,147,170,205,281,3920];quantiles_size=[0,1.37,144.7,319.53,479.46,631.97,783.38,937.91,1098.62,1265.47,1448.32,1648.27,1876.08,2142.06,2465.37,2866.31,3401.59,4155.73,5400.08,8037.54,223212.26];function computeEcoIndex(e,r,n){const t=computeQuantile(quantiles_dom,e);const o=computeQuantile(quantiles_req,r);const i=computeQuantile(quantiles_size,n);return 100-5*(3*t+2*o+i)/6}function computeQuantile(e,r){for(i=1;i<e.length;i++){if(r<e[i])return i+(r-e[i-1])/(e[i]-e[i-1])}return e.length}function getEcoIndexGrade(e){if(e>75)return"A";if(e>65)return"B";if(e>50)return"C";if(e>35)return"D";if(e>20)return"E";if(e>5)return"F";return"G"}function computeGreenhouseGasesEmissionfromEcoIndex(e){return(2+2*(50-e)/100).toFixed(2)}function computeWaterConsumptionfromEcoIndex(e){return(3+3*(50-e)/100).toFixed(2)}ecoindex=function(e,r){var n=req=error=0;r.forEach((function(e){req++;var r=0;if(e.transferSize==0)error++;else r=e.transferSize;r=Math.round(r/1e3);n=n+r}));var t=error*100/req;var o=computeEcoIndex(e,req,n);var i=getEcoIndexGrade(o);var a=computeGreenhouseGasesEmissionfromEcoIndex(o);var u=computeWaterConsumptionfromEcoIndex(o);var c="ecoIndex: "+o.toFixed(2)+(t>0?" (*"+Math.round(t)+"% d'erreur)":"")+" | GES: "+a+" gCO2e | eau: "+u+" cl | Nombre de requÃªtes: "+req+" | Taille de la page: "+n+" Ko | Taille du DOM: "+e;var s="#ED2124";var d="#000";switch(i){case"A":s="#349A47";d="#fff";break;case"B":s="#51B84B";break;case"C":s="#CADB2A";break;case"D":s="#F6EB15";break;case"E":s="#FECD06";break;case"F":s="#F99839";break;default:s="#ED2124"}document.documentElement.style.setProperty("--ecoindex-color",s);document.documentElement.style.setProperty("--ecoindex-contrasted-neutral-color",d);const f=document.querySelector("[data-ecoindex]");f.innerHTML='<a href="http://www.ecoindex.fr/quest-ce-que-ecoindex/" data-ecoindex-link target="_blank" rel="noreferrer" title="'+c+'">'+o.toFixed(0)+"/"+i+(t>0?"*":"")+"</a>"};window.onload=function(e){setTimeout((function(){var e=document.getElementsByTagName("*").length;var r=window.performance.getEntriesByType("resource");r.push({name:"Page HTML",transferSize:window.performance.getEntriesByType("navigation")[0].transferSize});ecoindex(e,r)}),1e3)};